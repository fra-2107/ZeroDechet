<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clean Coast - Protection des c√¥tes bretonnes</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS pour la carte -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        :root {
            --ocean-blue: #0A4F70;
            --algae-green: #3FA796;
            --sand-light: #F2EFEA;
            --slate-grey: #2E2E2E;
            --border-color: rgba(46, 46, 46, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: var(--sand-light);
            color: var(--slate-grey);
            line-height: 1.6;
        }

        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        h3 {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Navigation */
        .navbar {
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--ocean-blue);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 1rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--slate-grey);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s;
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: var(--ocean-blue);
            color: white;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 1.5rem;
        }

        .card-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .card-description {
            color: #6b6b6b;
            font-size: 0.875rem;
        }

        .card-content {
            padding: 1.5rem;
        }

        /* Grid */
        .grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .grid-cols-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-cols-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .grid-cols-4 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--ocean-blue);
            color: white;
        }

        .btn-primary:hover {
            background-color: #083d5a;
        }

        .btn-secondary {
            background-color: var(--algae-green);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #358874;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--ocean-blue);
            color: var(--ocean-blue);
        }

        .btn-outline:hover {
            background-color: var(--ocean-blue);
            color: white;
        }

        /* Stats Cards */
        .stat-card {
            padding: 1.5rem;
            background: white;
            border-radius: 0.75rem;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .stat-card:hover {
            border-color: var(--ocean-blue);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--ocean-blue);
        }

        .stat-label {
            font-size: 0.875rem;
            color: #6b6b6b;
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-green {
            background-color: #3FA796;
            color: white;
        }

        .badge-blue {
            background-color: var(--ocean-blue);
            color: white;
        }

        /* Event Cards */
        .event-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.3s;
        }

        .event-card:hover {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        /* Map */
        #map {
            height: 600px;
            width: 100%;
            border-radius: 0.75rem;
            overflow: hidden;
        }

        /* Progress Bar */
        .progress {
            width: 100%;
            height: 0.75rem;
            background-color: #e0e0e0;
            border-radius: 9999px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--algae-green);
            transition: width 0.3s;
        }

        /* Form */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.875rem;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* Page content */
        .page-content {
            padding: 2rem 0;
            min-height: calc(100vh - 200px);
        }

        .page-header {
            margin-bottom: 2rem;
        }

        /* Hide pages by default */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                flex-wrap: wrap;
            }
            
            h1 {
                font-size: 1.5rem;
            }
        }

        /* Leaderboard */
        .leaderboard-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            background-color: var(--sand-light);
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            transition: all 0.3s;
        }

        .leaderboard-item:hover {
            background-color: #e8e5e0;
        }

        .rank-badge {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .rank-1 { background-color: #FFD700; color: #2E2E2E; }
        .rank-2 { background-color: #C0C0C0; color: #2E2E2E; }
        .rank-3 { background-color: #CD7F32; color: white; }
        .rank-other { background-color: var(--ocean-blue); color: white; }

        /* Icon styles */
        .icon {
            width: 1.25rem;
            height: 1.25rem;
            display: inline-block;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-content">
            <a href="#" class="logo" onclick="showPage('dashboard')">
                üåä Clean Coast
            </a>
            <ul class="nav-links">
                <li><a href="#" onclick="showPage('dashboard')" class="active" id="nav-dashboard">Tableau de bord</a></li>
                <li><a href="#" onclick="showPage('events')" id="nav-events">√âv√©nements</a></li>
                <li><a href="#" onclick="showPage('map')" id="nav-map">Carte</a></li>
                <li><a href="#" onclick="showPage('stats')" id="nav-stats">Statistiques</a></li>
                <li><a href="#" onclick="showPage('history')" id="nav-history">Historique</a></li>
                <li><a href="#" onclick="showPage('profile')" id="nav-profile">Profil</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Dashboard Page -->
        <div id="dashboard" class="page active">
            <div class="page-content">
                <div class="page-header">
                    <h1>Tableau de bord</h1>
                    <p style="color: #6b6b6b;">Vue d'ensemble de votre activit√©</p>
                </div>

                <!-- Stats -->
                <div class="grid grid-cols-4">
                    <div class="stat-card">
                        <div class="stat-label">D√©chets ramass√©s</div>
                        <div class="stat-value">1247 kg</div>
                        <p style="font-size: 0.75rem; color: #6b6b6b; margin-top: 0.25rem;">+149kg ce mois</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">√âv√©nements</div>
                        <div class="stat-value" style="color: var(--algae-green)">28</div>
                        <p style="font-size: 0.75rem; color: #6b6b6b; margin-top: 0.25rem;">3 √† venir</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Participants</div>
                        <div class="stat-value">542</div>
                        <p style="font-size: 0.75rem; color: #6b6b6b; margin-top: 0.25rem;">Total depuis le d√©but</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Plages nettoy√©es</div>
                        <div class="stat-value" style="color: var(--algae-green)">12</div>
                        <p style="font-size: 0.75rem; color: #6b6b6b; margin-top: 0.25rem;">Sur la zone couverte</p>
                    </div>
                </div>

                <!-- Challenges -->
                <h2>D√©fis en cours</h2>
                <div class="grid grid-cols-2">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">üéØ Objectif 500kg</h3>
                            <p class="card-description">Ramasser 500kg de d√©chets en f√©vrier</p>
                        </div>
                        <div class="card-content">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.875rem; color: #6b6b6b;">Progression</span>
                                <span style="font-weight: 500;">367 / 500</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" style="width: 73.4%"></div>
                            </div>
                            <p style="font-size: 0.75rem; color: #6b6b6b; margin-top: 0.5rem;">
                                Date limite: 28 f√©vrier 2026
                            </p>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">üéØ 100 participants</h3>
                            <p class="card-description">R√©unir 100 participants sur un seul √©v√©nement</p>
                        </div>
                        <div class="card-content">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span style="font-size: 0.875rem; color: #6b6b6b;">Progression</span>
                                <span style="font-weight: 500;">42 / 100</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" style="width: 42%"></div>
                            </div>
                            <p style="font-size: 0.75rem; color: #6b6b6b; margin-top: 0.5rem;">
                                Date limite: 31 mars 2026
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Events -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin: 2rem 0 1rem;">
                    <h2 style="margin: 0;">Prochains √©v√©nements</h2>
                    <button class="btn btn-secondary" onclick="showPage('events')">Cr√©er un √©v√©nement</button>
                </div>

                <div class="grid grid-cols-3" id="upcomingEvents"></div>
            </div>
        </div>

        <!-- Events Page -->
        <div id="events" class="page">
            <div class="page-content">
                <div class="page-header">
                    <h1>Cr√©er un nouvel √©v√©nement</h1>
                    <p style="color: #6b6b6b;">Organisez un ramassage de d√©chets et mobilisez la communaut√©</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Informations de l'√©v√©nement</h3>
                        <p class="card-description">Remplissez les d√©tails de votre √©v√©nement de ramassage</p>
                    </div>
                    <div class="card-content">
                        <form id="eventForm">
                            <div class="form-group">
                                <label class="form-label">Titre de l'√©v√©nement *</label>
                                <input type="text" class="form-input" placeholder="Ex: Grand nettoyage de la plage..." required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Type d'√©v√©nement *</label>
                                <select class="form-select" required>
                                    <option value="beach">üèñÔ∏è Plage</option>
                                    <option value="coastal">üåä C√¥tier</option>
                                    <option value="underwater">ü§ø Plong√©e sous-marine</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Date de l'√©v√©nement *</label>
                                <input type="date" class="form-input" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Lieu de rendez-vous *</label>
                                <input type="text" class="form-input" placeholder="Ex: Plage du Moulin Blanc, Brest" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Nombre maximum de participants</label>
                                <input type="number" class="form-input" placeholder="Ex: 50">
                                <p style="font-size: 0.75rem; color: #6b6b6b; margin-top: 0.25rem;">
                                    Laissez vide si pas de limite
                                </p>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Description</label>
                                <textarea class="form-textarea" placeholder="D√©crivez votre √©v√©nement, le mat√©riel fourni, les consignes..."></textarea>
                            </div>

                            <div style="display: flex; gap: 1rem;">
                                <button type="submit" class="btn btn-secondary" style="flex: 1;">Cr√©er l'√©v√©nement</button>
                                <button type="button" class="btn btn-outline" style="flex: 1;" onclick="showPage('dashboard')">Annuler</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="card" style="background-color: var(--sand-light); border: 2px solid rgba(10, 79, 112, 0.2);">
                    <div class="card-header">
                        <h3 class="card-title">üí° Conseils pour un √©v√©nement r√©ussi</h3>
                    </div>
                    <div class="card-content" style="font-size: 0.875rem;">
                        <p>‚Ä¢ Pr√©voyez du mat√©riel : gants, sacs poubelles, pinces</p>
                        <p>‚Ä¢ Identifiez les points de collecte √† proximit√©</p>
                        <p>‚Ä¢ Communiquez les consignes de s√©curit√©</p>
                        <p>‚Ä¢ Pensez √† prendre des photos avant/apr√®s</p>
                        <p>‚Ä¢ Partagez l'√©v√©nement sur les r√©seaux sociaux</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Page -->
        <div id="map-page" class="page">
            <div class="page-content">
                <div class="page-header">
                    <h1>Carte interactive</h1>
                    <p style="color: #6b6b6b;">Visualisez les √©v√©nements, plages et points de collecte sur la zone</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Afficher sur la carte</h3>
                    </div>
                    <div class="card-content">
                        <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                            <button class="btn btn-primary" id="filterEvents" onclick="toggleFilter('events')">üìç √âv√©nements (4)</button>
                            <button class="btn btn-secondary" id="filterBeaches" onclick="toggleFilter('beaches')">üèñÔ∏è Plages (4)</button>
                            <button class="btn" id="filterBins" style="background-color: #FFB74D; color: #2E2E2E;" onclick="toggleFilter('bins')">üóëÔ∏è Points de collecte (3)</button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div id="map"></div>
                </div>
            </div>
        </div>

        <!-- Statistics Page -->
        <div id="stats" class="page">
            <div class="page-content">
                <div class="page-header">
                    <h1>Statistiques</h1>
                    <p style="color: #6b6b6b;">Analyse d√©taill√©e de l'impact environnemental</p>
                </div>

                <div class="grid grid-cols-4">
                    <div class="stat-card">
                        <div class="stat-label">Total d√©chets</div>
                        <div class="stat-value">1247 kg</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">√âv√©nements</div>
                        <div class="stat-value" style="color: var(--algae-green)">28</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Participants</div>
                        <div class="stat-value">542</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Plages nettoy√©es</div>
                        <div class="stat-value" style="color: var(--algae-green)">12</div>
                    </div>
                </div>

                <!-- Leaderboard -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">üèÜ Classement des contributeurs</h3>
                        <p class="card-description">Top 5 des membres les plus actifs</p>
                    </div>
                    <div class="card-content" id="leaderboard"></div>
                </div>

                <!-- Moyennes -->
                <div class="grid grid-cols-3">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Moyenne par √©v√©nement</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-value" style="font-size: 2rem;">45 kg</div>
                            <p style="font-size: 0.875rem; color: #6b6b6b; margin-top: 0.25rem;">
                                D√©chets ramass√©s en moyenne
                            </p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Participation moyenne</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-value" style="font-size: 2rem; color: var(--algae-green);">19</div>
                            <p style="font-size: 0.875rem; color: #6b6b6b; margin-top: 0.25rem;">
                                Participants par √©v√©nement
                            </p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Impact individuel</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-value" style="font-size: 2rem;">2.3 kg</div>
                            <p style="font-size: 0.875rem; color: #6b6b6b; margin-top: 0.25rem;">
                                Par participant en moyenne
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Page -->
        <div id="history" class="page">
            <div class="page-content">
                <div class="page-header">
                    <h1>Historique des √©v√©nements</h1>
                    <p style="color: #6b6b6b;">Retrouvez tous les √©v√©nements pass√©s et vos contributions</p>
                </div>

                <div class="grid grid-cols-3">
                    <div class="stat-card">
                        <div class="stat-label">√âv√©nements particip√©s</div>
                        <div class="stat-value">2</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">D√©chets ramass√©s</div>
                        <div class="stat-value" style="color: var(--algae-green)">205 kg</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Co-participants</div>
                        <div class="stat-value">63</div>
                    </div>
                </div>

                <div id="historyEvents"></div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile" class="page">
            <div class="page-content">
                <div class="page-header">
                    <h1>Mon profil</h1>
                    <p style="color: #6b6b6b;">G√©rez vos informations personnelles et consultez vos accomplissements</p>
                </div>

                <div class="card">
                    <div class="card-content">
                        <div style="display: flex; align-items: center; gap: 2rem;">
                            <div style="width: 5rem; height: 5rem; border-radius: 50%; background-color: var(--algae-green); color: white; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: 700; border: 4px solid var(--ocean-blue);">
                                MD
                            </div>
                            <div>
                                <h2 style="margin-bottom: 0.5rem;">Marie Dupont</h2>
                                <p style="color: #6b6b6b;">marie.dupont@email.com</p>
                                <p style="color: #6b6b6b; font-size: 0.875rem;">Membre depuis le 10 janvier 2025</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" style="background: linear-gradient(135deg, var(--ocean-blue), var(--algae-green)); color: white;">
                    <div class="card-header" style="border-bottom-color: rgba(255,255,255,0.2);">
                        <h3 class="card-title" style="color: white;">üèÜ Niveau 8 - Eco-Warrior</h3>
                        <p style="color: rgba(255,255,255,0.8); font-size: 0.875rem;">
                            82% vers le niveau 9
                        </p>
                    </div>
                    <div class="card-content">
                        <div class="progress" style="background-color: rgba(255,255,255,0.2);">
                            <div class="progress-bar" style="width: 82%"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 1rem; font-size: 0.875rem;">
                            <span>245 kg collect√©s</span>
                            <span>270 kg requis</span>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-3">
                    <div class="stat-card">
                        <div class="stat-label">D√©chets ramass√©s</div>
                        <div class="stat-value">245 kg</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">√âv√©nements particip√©s</div>
                        <div class="stat-value" style="color: var(--algae-green)">15</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Badges obtenus</div>
                        <div class="stat-value" style="color: #FFB74D;">3</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">üèÖ Badges obtenus</h3>
                        <p class="card-description">R√©compenses gagn√©es pour vos actions</p>
                    </div>
                    <div class="card-content">
                        <div class="grid grid-cols-3">
                            <div style="padding: 1rem; background-color: var(--sand-light); border-radius: 0.5rem;">
                                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üåü</div>
                                <h4 style="font-weight: 600; margin-bottom: 0.25rem;">Pionnier</h4>
                                <p style="font-size: 0.875rem; color: #6b6b6b;">Premier √©v√©nement compl√©t√©</p>
                            </div>
                            <div style="padding: 1rem; background-color: var(--sand-light); border-radius: 0.5rem;">
                                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üåä</div>
                                <h4 style="font-weight: 600; margin-bottom: 0.25rem;">Oc√©an Propre</h4>
                                <p style="font-size: 0.875rem; color: #6b6b6b;">100kg de d√©chets ramass√©s</p>
                            </div>
                            <div style="padding: 1rem; background-color: var(--sand-light); border-radius: 0.5rem;">
                                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üèÉ</div>
                                <h4 style="font-weight: 600; margin-bottom: 0.25rem;">Marathonien</h4>
                                <p style="font-size: 0.875rem; color: #6b6b6b;">10 √©v√©nements particip√©s</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        // Mock Data
        const mockEvents = [
            {
                id: 'e1',
                title: 'Grand nettoyage de la plage du Moulin Blanc',
                date: '2026-02-15',
                location: 'Plage du Moulin Blanc, Brest',
                coordinates: [48.3905, -4.4661],
                participants: 42,
                wasteCollected: 0,
                status: 'upcoming',
                type: 'beach'
            },
            {
                id: 'e2',
                title: 'Ramassage c√¥tier Plougastel',
                date: '2026-02-08',
                location: "Anse de Lauberlac'h, Plougastel",
                coordinates: [48.3733, -4.3697],
                participants: 28,
                wasteCollected: 85,
                status: 'completed',
                type: 'coastal'
            },
            {
                id: 'e3',
                title: 'Action plage de Sainte-Anne-du-Portzic',
                date: '2026-01-20',
                location: 'Sainte-Anne-du-Portzic',
                coordinates: [48.3575, -4.5536],
                participants: 35,
                wasteCollected: 120,
                status: 'completed',
                type: 'beach'
            },
            {
                id: 'e4',
                title: 'Plong√©e nettoyage port de Brest',
                date: '2026-02-22',
                location: 'Port de Commerce, Brest',
                coordinates: [48.3833, -4.4951],
                participants: 12,
                wasteCollected: 0,
                status: 'upcoming',
                type: 'underwater'
            }
        ];

        const mockBeaches = [
            { id: 'b1', name: 'Plage du Moulin Blanc', coordinates: [48.3905, -4.4661], status: 'needs-cleaning' },
            { id: 'b2', name: "Anse de Lauberlac'h", coordinates: [48.3733, -4.3697], status: 'clean' },
            { id: 'b3', name: 'Plage de Sainte-Anne', coordinates: [48.3575, -4.5536], status: 'clean' },
            { id: 'b4', name: 'Plage de Trez-Hir', coordinates: [48.3427, -4.6242], status: 'critical' }
        ];

        const mockWasteBins = [
            { id: 'w1', name: 'Point tri Moulin Blanc', coordinates: [48.3915, -4.4670], type: 'recycling' },
            { id: 'w2', name: "Poubelle Lauberlac'h", coordinates: [48.3740, -4.3700], type: 'general' },
            { id: 'w3', name: 'Tri s√©lectif Sainte-Anne', coordinates: [48.3580, -4.5540], type: 'recycling' }
        ];

        const leaderboardData = [
            { id: '1', name: 'Sophie Laurent', waste: 342, events: 22, level: 12 },
            { id: '2', name: 'Thomas Moreau', waste: 318, events: 19, level: 11 },
            { id: '3', name: 'Marie Dupont', waste: 245, events: 15, level: 8 },
            { id: '4', name: 'Lucas Bernard', waste: 198, events: 14, level: 7 },
            { id: '5', name: 'Emma Petit', waste: 175, events: 12, level: 7 }
        ];

        // Navigation
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.querySelectorAll('.nav-links a').forEach(link => link.classList.remove('active'));
            
            if (pageName === 'map') {
                document.getElementById('map-page').classList.add('active');
                document.getElementById('nav-map').classList.add('active');
                initMap();
            } else {
                document.getElementById(pageName).classList.add('active');
                document.getElementById('nav-' + pageName).classList.add('active');
            }
        }

        // Render upcoming events
        function renderUpcomingEvents() {
            const container = document.getElementById('upcomingEvents');
            const upcoming = mockEvents.filter(e => e.status === 'upcoming');
            
            container.innerHTML = upcoming.map(event => `
                <div class="event-card">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                        <h3 style="flex: 1;">${event.title}</h3>
                        <span class="badge badge-green">
                            ${event.type === 'beach' ? 'üèñÔ∏è Plage' : event.type === 'coastal' ? 'üåä C√¥tier' : 'ü§ø Plong√©e'}
                        </span>
                    </div>
                    <p style="color: #6b6b6b; font-size: 0.875rem; margin-bottom: 0.5rem;">
                        üìÖ ${new Date(event.date).toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long' })}
                    </p>
                    <p style="color: #6b6b6b; font-size: 0.875rem; margin-bottom: 0.5rem;">
                        üìç ${event.location}
                    </p>
                    <p style="color: #6b6b6b; font-size: 0.875rem; margin-bottom: 1rem;">
                        üë• ${event.participants} participants inscrits
                    </p>
                    <button class="btn btn-primary" style="width: 100%;">S'inscrire</button>
                </div>
            `).join('');
        }

        // Render leaderboard
        function renderLeaderboard() {
            const container = document.getElementById('leaderboard');
            container.innerHTML = leaderboardData.map((user, index) => `
                <div class="leaderboard-item">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div class="rank-badge rank-${index < 3 ? index + 1 : 'other'}">${index + 1}</div>
                        <div>
                            <div style="font-weight: 600;">${user.name}</div>
                            <div style="font-size: 0.875rem; color: #6b6b6b;">Niveau ${user.level}</div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 1.25rem; font-weight: 700; color: var(--ocean-blue);">${user.waste} kg</div>
                        <div style="font-size: 0.875rem; color: #6b6b6b;">${user.events} √©v√©nements</div>
                    </div>
                </div>
            `).join('');
        }

        // Render history
        function renderHistory() {
            const container = document.getElementById('historyEvents');
            const completed = mockEvents.filter(e => e.status === 'completed');
            
            container.innerHTML = completed.map(event => `
                <div class="card" style="margin-bottom: 1rem;">
                    <div class="card-header">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <h3 class="card-title">${event.title}</h3>
                                <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                                    <span class="badge" style="background-color: #dcfce7; color: #166534;">‚úì Termin√©</span>
                                    <span class="badge badge-green">
                                        ${event.type === 'beach' ? 'üèñÔ∏è Plage' : event.type === 'coastal' ? 'üåä C√¥tier' : 'ü§ø Plong√©e'}
                                    </span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 1rem;">
                                <div style="text-align: center; padding: 1rem; background-color: var(--sand-light); border-radius: 0.5rem; min-width: 100px;">
                                    <div style="font-size: 1.5rem; font-weight: 700; color: var(--ocean-blue);">${event.wasteCollected}kg</div>
                                    <div style="font-size: 0.75rem; color: #6b6b6b;">D√©chets</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background-color: var(--sand-light); border-radius: 0.5rem; min-width: 100px;">
                                    <div style="font-size: 1.5rem; font-weight: 700; color: var(--algae-green);">${event.participants}</div>
                                    <div style="font-size: 0.75rem; color: #6b6b6b;">Participants</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-content">
                        <p style="color: #6b6b6b; font-size: 0.875rem; margin-bottom: 0.5rem;">
                            üìÖ ${new Date(event.date).toLocaleDateString('fr-FR')} ‚Ä¢ üìç ${event.location}
                        </p>
                    </div>
                </div>
            `).join('');
        }

        // Map functionality
        let map;
        let markers = { events: [], beaches: [], bins: [] };
        let filters = { events: true, beaches: true, bins: true };

        function initMap() {
            if (map) return;
            
            map = L.map('map').setView([48.3733, -4.4180], 12);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);

            updateMapMarkers();
        }

        function toggleFilter(type) {
            filters[type] = !filters[type];
            const btn = document.getElementById('filter' + type.charAt(0).toUpperCase() + type.slice(1));
            btn.style.opacity = filters[type] ? '1' : '0.5';
            updateMapMarkers();
        }

        function updateMapMarkers() {
            if (!map) return;

            // Clear existing markers
            Object.values(markers).forEach(group => {
                group.forEach(marker => map.removeLayer(marker));
            });
            markers = { events: [], beaches: [], bins: [] };

            // Add event markers
            if (filters.events) {
                mockEvents.forEach(event => {
                    const marker = L.marker(event.coordinates, {
                        icon: L.icon({
                            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',
                            shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
                            iconSize: [25, 41],
                            iconAnchor: [12, 41],
                            popupAnchor: [1, -34]
                        })
                    }).addTo(map);
                    
                    marker.bindPopup(`
                        <div style="padding: 0.5rem; min-width: 200px;">
                            <h3 style="color: var(--ocean-blue); margin-bottom: 0.5rem;">${event.title}</h3>
                            <p style="font-size: 0.875rem; margin-bottom: 0.25rem;">üìÖ ${new Date(event.date).toLocaleDateString('fr-FR')}</p>
                            <p style="font-size: 0.875rem; margin-bottom: 0.25rem;">üìç ${event.location}</p>
                            <p style="font-size: 0.875rem;">üë• ${event.participants} participants</p>
                        </div>
                    `);
                    
                    markers.events.push(marker);
                });
            }

            // Add beach markers
            if (filters.beaches) {
                mockBeaches.forEach(beach => {
                    const color = beach.status === 'clean' ? '#3FA796' : 
                                beach.status === 'needs-cleaning' ? '#FFB74D' : '#dc2626';
                    
                    L.circle(beach.coordinates, {
                        radius: 300,
                        color: color,
                        fillColor: color,
                        fillOpacity: 0.2
                    }).addTo(map);
                    
                    const marker = L.marker(beach.coordinates, {
                        icon: L.icon({
                            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
                            shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
                            iconSize: [25, 41],
                            iconAnchor: [12, 41],
                            popupAnchor: [1, -34]
                        })
                    }).addTo(map);
                    
                    marker.bindPopup(`
                        <div style="padding: 0.5rem; min-width: 200px;">
                            <h3 style="color: var(--algae-green); margin-bottom: 0.5rem;">${beach.name}</h3>
                            <p style="font-size: 0.875rem;">
                                ${beach.status === 'clean' ? '‚úì Propre' : 
                                  beach.status === 'needs-cleaning' ? '‚ö†Ô∏è √Ä nettoyer' : 'üö® Critique'}
                            </p>
                        </div>
                    `);
                    
                    markers.beaches.push(marker);
                });
            }

            // Add bin markers
            if (filters.bins) {
                mockWasteBins.forEach(bin => {
                    const marker = L.marker(bin.coordinates, {
                        icon: L.icon({
                            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png',
                            shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
                            iconSize: [25, 41],
                            iconAnchor: [12, 41],
                            popupAnchor: [1, -34]
                        })
                    }).addTo(map);
                    
                    marker.bindPopup(`
                        <div style="padding: 0.5rem; min-width: 150px;">
                            <h3 style="color: #FFB74D; margin-bottom: 0.5rem;">${bin.name}</h3>
                            <p style="font-size: 0.875rem;">
                                ${bin.type === 'recycling' ? '‚ôªÔ∏è Tri s√©lectif' : 'üóëÔ∏è G√©n√©ral'}
                            </p>
                        </div>
                    `);
                    
                    markers.bins.push(marker);
                });
            }
        }

        // Form submission
        document.getElementById('eventForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('√âv√©nement cr√©√© avec succ√®s !');
            showPage('dashboard');
        });

        // Initialize
        renderUpcomingEvents();
        renderLeaderboard();
        renderHistory();
    </script>
</body>
</html>