<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Users BDD</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    #users { margin-top: 20px; }
    li { margin-bottom: 5px; }
    #errors { color: red; display: none; margin-top: 20px; }
  </style>
    <script src="ajaxrequest.js"></script>
</head>
<body>

  <h1>Liste des utilisateurs</h1>
  <button id="btnLoadUsers">Charger les utilisateurs</button>

  <ul id="users"></ul>
  <div id="errors"></div>

  <!-- Script spÃ©cifique pour charger les users -->
  <script>
  'use strict';

  function loadUsers() {
    ajaxRequest('GET', '/php/api.php/users', (users) => {
      const ul = document.getElementById('users');
      ul.innerHTML = '';
      users.forEach(user => {
        const li = document.createElement('li');
        li.textContent = user.name + ' (ID: ' + user.id + ')';
        ul.appendChild(li);
      });
    });
  }

  document.getElementById('btnLoadUsers').addEventListener('click', loadUsers);
  </script>

  <button onclick="fetch('/php/api.php/user').then(r => r.json()).then(d => console.log(d))">
    Charger utilisateurs
  </button>

</body>
</html>
